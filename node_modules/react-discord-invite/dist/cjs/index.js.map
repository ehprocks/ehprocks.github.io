{"version":3,"file":"index.js","sources":["../../node_modules/classnames/index.js","../../node_modules/object-assign/index.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../react/jsx-runtime","../../src/index.tsx"],"sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import * as jsxRuntime from \"/home/josh/Projects/TypescriptReact/react-discord-invite/node_modules/react/jsx-runtime.js\"\nexport const jsx = jsxRuntime.jsx\nexport const jsxs = jsxRuntime.jsxs\nexport const Fragment = jsxRuntime.Fragment","import { useEffect, useState } from \"react\";\nimport classnames from \"classnames\";\nimport \"./index.less\";\n\nexport default function DiscordInvite({ guild, palette = \"dark\", flat = false }: Props) {\n\n\tconst initialState: ServerStat = {\n\t\tid: \"\",\n\t\tname: \"Loading...\",\n\t\towner: \"\",\n\t\townerId: \"\",\n\t\tverified: false,\n\t\tmemberCount: \"∅\",\n\t\tmemberOnline: \"∅\",\n\t\tbannerURL: null,\n\t\ticonURL: \"https://steamuserimages-a.akamaihd.net/ugc/961973556167374789/672A76928C54C3E57E081E0EB9E9A752B18B1778/\",\n\t\tinviteCodes: []\n\t};\n\n\tconst [ state, setState ] = useState<ServerStat & { error: boolean, offline: boolean }>({\n\t\toffline: false,\n\t\terror: false,\n\t\t...initialState\n\t});\n\n\tfunction fetchState() {\n\t\tfetch(`https://api.joshmerlino.me/v2/discord-invite-react/${guild}`)\n\t\t\t.then(r => r.json())\n\t\t\t.then(setState)\n\t\t\t.catch(() => setState({ ...state, offline: true }));\n\t}\n\n\tuseEffect(function() {\n\t\tconst iv = setInterval(fetchState, 5000);\n\t\tfetchState();\n\t\treturn () => clearInterval(iv);\n\t}, []);\n\n\tfunction invite() {\n\t\twindow.open(\"https://discord.com/api/oauth2/authorize?client_id=955128562455838791&permissions=8&scope=bot\");\n\t}\n\n\tif (state && \"error\" in state && state.error) return (\n\t\t<div className={ classnames(\"ReactDiscordInvite--root\", `palette-${palette}`, { flat }) }>\n\t\t\t<h5 className=\"ReactDiscordInvite--title !text-red-500\">You've been invited to join a server</h5>\n\t\t\t<div className=\"ReactDiscordInvite--datalayer\">\n\t\t\t\t<img className=\"ReactDiscordInvite--servericon\" src={initialState.iconURL!}/>\n\t\t\t\t<div className=\"ReactDiscordInvite--textlayer\">\n\t\t\t\t\t<div className=\"ReactDiscordInvite--servername\">Not reporting metrics</div>\n\t\t\t\t\t<strong className=\"ReactDiscordInvite--membercount\">Invite our bot to get started</strong>\n\t\t\t\t</div>\n\t\t\t\t<a className=\"ReactDiscordInvite--joinlink ReactDiscordInvite--botinvite\" onClick={ invite }>Invite Bot</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className={ [ \"ReactDiscordInvite--root\", `palette-${palette}` ].join(\" \") }>\n\t\t\t<h5 className=\"ReactDiscordInvite--title\">You've been invited to join a server</h5>\n\t\t\t<div className=\"ReactDiscordInvite--datalayer\">\n\t\t\t\t<img className=\"ReactDiscordInvite--servericon\" src={state.iconURL!}/>\n\t\t\t\t<div className=\"ReactDiscordInvite--textlayer\">\n\t\t\t\t\t<div className=\"ReactDiscordInvite--servername\">{ state.name }</div>\n\t\t\t\t\t<strong className=\"ReactDiscordInvite--membercount\">\n\t\t\t\t\t\t<span>{state.memberOnline} Online</span>\n\t\t\t\t\t\t<span>{state.memberCount} Members</span>\n\t\t\t\t\t</strong>\n\t\t\t\t</div>\n\t\t\t\t{ state.inviteCodes.length > 0 && <a className=\"ReactDiscordInvite--joinlink\" href={state.id === \"\" ? undefined : `//discord.gg/${state.inviteCodes[0]}`}>Join</a> }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["require$$0","jsxRuntimeModule","jsxRuntime.jsx","jsxRuntime.jsxs","guild","palette","flat","initialState","id","name","owner","ownerId","verified","memberCount","memberOnline","bannerURL","iconURL","inviteCodes","state","setState","useState","offline","error","fetch","then","r","json","catch","useEffect","iv","setInterval","fetchState","clearInterval","window","open","classnames","_jsx","_jsxs","invite","join","length","undefined"],"mappings":"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"}